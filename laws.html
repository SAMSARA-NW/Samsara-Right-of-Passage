<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Samsara — The Three Laws</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<audio id="samsara-audio" preload="auto">
  <source src="assets/audio/samsara-ambient.mp3" type="audio/mpeg">
</audio>

<script src="render/audio.js"></script>


<style>

    /* ===============================
   THRESHOLD CHAMBER
================================ */

.threshold-chamber {
  position: fixed;
  inset: 0;
  background: #0a0b0c;
  z-index: 999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Void pulse */
.void-background {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at center, rgba(255,255,255,0.06), transparent 60%),
    radial-gradient(circle at 40% 70%, rgba(255,255,255,0.03), transparent 65%);
  animation: voidPulse 16s ease-in-out infinite;
}

@keyframes voidPulse {
  0%   { opacity: 0.45; }
  50%  { opacity: 0.75; }
  100% { opacity: 0.45; }
}

/* Text container */
.threshold-text {
  position: relative;
  max-width: 720px;
  padding: 0 24px;
  text-align: center;
  z-index: 2;
}

/* Individual lines */
.threshold-text .body-text {
  position: absolute;
  inset: 0;
  opacity: 0;
  margin: 0 auto;
  max-width: 48ch; 
  font-size: 1.15rem;
  line-height: 1.8;
  letter-spacing: 0.02em;
  color: rgba(230,230,225,0.92);
  transition:
    opacity 2.5s ease,
    transform 2.5s ease;
  transform: translateY(6px);
}

/* Active line */
.threshold-text .body-text.active {
  opacity: 1;
  transform: translateY(0);
}

/* Fading out */
.threshold-text .body-text.fade-out {
  opacity: 0;
  transform: translateY(-6px);
}

.threshold-sentence {
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 1.2s ease, transform 1.2s ease;
    max-width: 720px;
    margin: 0 auto;
    text-align: center;
}

.threshold-sentence.visible {
    opacity: 1;
    transform: translateY(0);
}

/* ---------------------------- */
/* RESET */
/* ---------------------------- */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body {
    width: 100%;
    height: 100%;
    font-family: "Inter", system-ui, sans-serif;
    overflow: hidden;
    background: #f4f3ef;
}

/* ---------------------------- */
/* PORTAL OVERLAY */
/* ---------------------------- */
#portal-overlay {
    position: fixed;
    inset: 0;
    background: radial-gradient(
        circle at center,
        rgba(255,255,255,0.2),
        rgba(30,30,30,0.95)
    );
    opacity: 0;
    pointer-events: none;
    transform: scale(1.2);
    transition: opacity 0.9s ease, transform 0.9s ease;
    z-index: 999;
}

#portal-overlay.contract {
    opacity: 1;
    transform: scale(1);
}

/* ---------------------------- */
/* PAGE */
/* ---------------------------- */
.page.laws {
    width: 100vw;
    height: 100vh;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(
        circle at center,
        rgba(244,243,239,1) 0%,
        rgba(220,218,210,0.96) 40%,
        rgba(190,188,180,0.9) 100%
    );
    animation: portalPulse 18s ease-in-out infinite alternate;
}

/* ---------------------------- */
/* CONTENT */
/* ---------------------------- */
.laws-inner {
    max-width: 720px;
    text-align: center;
    color: #2c2c2c;
    padding: 2rem;
    position: relative;
    z-index: 2;
}

.laws-title {
    font-size: 3rem;
    margin-bottom: 2.5rem;
    letter-spacing: 0.04em;
}

.law {
    margin-bottom: 2.5rem;
    opacity: 0;
    transform: translateY(20px);
}

.law h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    color: #3a3a3a;
}

.law p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #4a4a4a;
}

/* ---------------------------- */
/* THRESHOLD */
/* ---------------------------- */
.laws-threshold {
    margin-top: 3rem;
}

.threshold-text {
  position: absolute;
  width: min(92vw, 980px); /* ← THIS IS THE KEY */
  padding: 0 48px;
  text-align: center;
  z-index: 2;
}

.threshold-button {
    background: transparent;
    border: 1px solid rgba(60,60,60,0.4);
    padding: 0.9rem 2.2rem;
    font-size: 0.95rem;
    letter-spacing: 0.12em;
    color: #2c2c2c;
    cursor: pointer;
    border-radius: 999px;
    transition: all 0.4s ease;
}

.threshold-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 18px rgba(80,80,80,0.25);
}

/* ---------------------------- */
/* PARTICLES */
/* ---------------------------- */
.particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
}

.particle {
    position: absolute;
    width: var(--size);
    height: var(--size);
    background: rgba(120,120,120,0.18);
    border-radius: 50%;
    top: var(--y);
    left: var(--x);
    animation: floatOrganic var(--speed) ease-in-out infinite;
    opacity: 0.3;
}

/* Gentle dissolve of threshold chamber */
.threshold-chamber {
  transition:
    opacity 3.2s ease,
    filter 3.2s ease,
    transform 3.2s ease;
}

.threshold-chamber.dissolve {
  opacity: 0;
  filter: blur(12px);
  transform: scale(0.985);
}

/* Laws start muted */
.laws-inner {
  opacity: 0;
  transform: translateY(12px);
  transition:
    opacity 2.8s ease,
    transform 2.8s ease;
}

/* Laws awaken */
.laws-inner.reveal {
  opacity: 1;
  transform: translateY(0);
}

.threshold-chamber.dissolve .void-background {
  opacity: 0.25;
  transition: opacity 3.2s ease;
}

/* ===============================
   LAWS → INITIATION TRANSITION
================================ */

body.portal-exit {
  pointer-events: none;
}

.portal-veil {
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at center,
    rgba(255,255,255,0.85) 0%,
    rgba(255,255,255,0.6) 35%,
    rgba(240,240,235,0.95) 100%
  );
  opacity: 0;
  transform: scale(1.04);
  transition:
    opacity 2.2s ease,
    transform 2.2s ease;
  z-index: 1000;
  pointer-events: none;
}

.portal-veil.open {
  opacity: 1;
  transform: scale(1);
}

/* Laws drift away */
.laws-inner.exit {
  opacity: 0;
  transform: translateY(-12px);
  transition:
    opacity 1.8s ease,
    transform 1.8s ease;
}

/* Portal exit state */
body.portal-exit {
  overflow: hidden;
}

body.portal-exit::after {
  content: "";
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at center,
    rgba(255,255,255,0.15),
    rgba(0,0,0,0.85) 60%,
    rgba(0,0,0,0.95) 100%
  );
  opacity: 0;
  animation: portalFadeIn 1.6s ease forwards;
  z-index: 9999;
}

@keyframes portalFadeIn {
  to {
    opacity: 1;
  }
}


/* ---------------------------- */
/* ANIMATIONS */
/* ---------------------------- */
@keyframes portalPulse {
    0% { filter: brightness(1); }
    100% { filter: brightness(1.03); }
}

@keyframes floatOrganic {
    0% { transform: translate(0,0); }
    50% { transform: translate(-8px, -14px); }
    100% { transform: translate(0,0); }
}

@keyframes lawFadeIn {
    to { opacity: 1; transform: translateY(0); }
}

@keyframes wordFade {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 0.85; transform: translateY(0); }
}
</style>
</head>

<body>

<div id="portal-overlay"></div>

<article class="page laws">
    <div class="particles" id="particles"></div>

 <!-- THRESHOLD CHAMBER -->
 <section class="threshold-chamber">

    <div class="void-background"></div>

    <div class="threshold-text">
        <p class="body-text">
            Plato’s Forms –  Points to an ideal way of being, never fully reached but always approached.
        </p>
        <p class="body-text">
            Jung’s Individuation – People come to remember who they are through contribution.
        </p>
        <p class="body-text">
            Indigenous systems – Land as teacher, not resource.
        </p>
    </div>

 </section>


    <section class="laws-inner">
        <h1 class="laws-title">The Three Laws</h1>

        <div class="law">
            <h2>Law I — Regeneration First</h2>
            <p>
                Nothing you do here may leave the land, the people, or yourself poorer than you found them.
                Net depletion is not permitted.
            </p>
        </div>

        <div class="law">
            <h2>Law II — Embodied Participation</h2>
            <p>
                Ideas must touch soil, tools, systems, or people.
                Thought alone is unfinished.
            </p>
        </div>

        <div class="law">
            <h2>Law III — Responsibility Over Rights</h2>
            <p>
                Access is earned through care.
                Nothing here is owed.
            </p>
        </div>

        <div class="laws-threshold">
            
            <br>

            <button id="accept-laws" class="threshold-button">
                I am willing to proceed
            </button>
        </div>
    </section>
</article>

<script>
document.addEventListener("DOMContentLoaded", () => {

 


    /* Fade laws in sequence */
    document.querySelectorAll('.law').forEach((law, i) => {
        setTimeout(() => {
            law.style.animation = "lawFadeIn 1.4s ease forwards";
        }, i * 1200);
    });

    /* Word breathing */
    function splitWords(el){
        const text = el.textContent.trim();
        el.textContent = "";
        text.split(" ").forEach((word, i) => {
            const span = document.createElement("span");
            span.textContent = word + " ";
            span.style.animation = `wordFade 1.2s ease forwards`;
            span.style.animationDelay = (Math.random() * 1.2) + "s";
            el.appendChild(span);
        });
    }

    document.querySelectorAll('.laws-inner h1, .laws-inner h2, .laws-inner p')
        .forEach(splitWords);

    /* Particles */
    const particles = document.getElementById("particles");
    for(let i=0;i<50;i++){
        const p = document.createElement("div");
        p.className = "particle";
        p.style.setProperty("--x", Math.random()*100+"%");
        p.style.setProperty("--y", Math.random()*100+"%");
        p.style.setProperty("--size", 2+Math.random()*4+"px");
        p.style.setProperty("--speed", 10+Math.random()*20+"s");
        particles.appendChild(p);
    }

    /* Transition */
    const button = document.getElementById("accept-laws");
  const laws = document.querySelector(".laws-inner");
  const veil = document.getElementById("portal-veil");

  if (!button || !laws || !veil) return;

  button.addEventListener("click", () => {

    // Freeze interaction
    document.body.classList.add("portal-exit");

    // Laws gently recede
    laws.classList.add("exit");

    // Light veil opens
    setTimeout(() => {
      veil.classList.add("open");
    }, 600);

    // Transition to initiation
    setTimeout(() => {
      window.location.href = "initiation.html";
    }, 2400);

  });


});


</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
    
      /* ===============================
         TIMING — ceremonial pacing
         =============================== */
    
      const INITIAL_DELAY   = 2400;   // pause before first sentence appears
      const DISPLAY_DURATION = 4200;   // sentence fully visible
      const FADE_DURATION    = 2200;   // fade in/out (CSS must match)
      const PAUSE_DURATION   = 2800;   // silence between sentences
      const FINAL_PAUSE      = 2200;   // breath before laws awaken
    
      const chamber = document.querySelector(".threshold-chamber");
      const lines = Array.from(
        document.querySelectorAll(".threshold-text .body-text")
      );
      const laws = document.querySelector(".laws-inner");
    
      if (!chamber || !lines.length || !laws) return;
    
      let index = 0;
    
      // Ensure laws are present but dormant
      laws.classList.remove("reveal");
    
      function showLine(i) {
    
        // Fade out previous line
        if (i > 0) {
          lines[i - 1].classList.remove("active");
          lines[i - 1].classList.add("fade-out");
        }
    
        // Show current line
        if (i < lines.length) {
          const line = lines[i];
          line.classList.remove("fade-out");
          line.classList.add("active");
    
          // Line remains present
          setTimeout(() => {
    
            // Begin fade-out
            line.classList.remove("active");
            line.classList.add("fade-out");
    
            // Silence before next line
            setTimeout(() => {
              showLine(i + 1);
            }, PAUSE_DURATION);
    
          }, DISPLAY_DURATION);
    
        } else {
          // After final sentence, pause before transition
          setTimeout(beginDissolve, FINAL_PAUSE);
        }
      }
    
      function beginDissolve() {
        // Threshold recedes
        chamber.classList.add("dissolve");
    
        // Laws emerge gently beneath
        laws.classList.add("reveal");
    
        // Remove threshold once dissolve completes
        setTimeout(() => {
          chamber.remove();
        }, FADE_DURATION + 2000);
      }
    
      // Begin ritual
     // Begin ritual — after a deliberate pause
setTimeout(() => {
  showLine(index);
}, INITIAL_DELAY);

    
    });
    </script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
      const button = document.getElementById("enter-archetypes");
    
      if (!button) return;
    
      button.addEventListener("click", () => {
        document.body.classList.add("portal-exit");
    
        setTimeout(() => {
          window.location.href = "archetypes.html";
        }, 1600); // matches CSS animation
      });
    });
    </script>
    
    
    <div class="portal-veil" id="portal-veil"></div>

</body>
</html>
