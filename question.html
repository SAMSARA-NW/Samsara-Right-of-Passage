<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Samsara — Questions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style/question.css" />
  <script src="render/logic.js"></script>

</head>

<audio id="samsara-audio" preload="auto">
  <source src="assets/audio/samsara-ambient.mp3" type="audio/mpeg">
</audio>

<script src="render/audio.js"></script>

<body>



  <!-- VOID BACKDROP -->
  <div class="void-background"></div>
  <canvas id="floatingSpecs"></canvas>

  <!-- QUESTIONS -->
  <section class="questions" id="questions">


 <!-- QUESTION 1 -->
<article class="question" data-question="1">
  <div class="question-scene">
    <h2>The Familiar Dream</h2>
    <p>
      A dream returns to you from time to time. Nothing dramatic happens,
      but the feeling lingers long after you wake.
    </p>
    <p><em>What stays with you most?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      The emotional atmosphere — who was there, how connected it felt.
    </button>
    <button class="choice" data-choice="b">
      A strange detail that felt symbolic, even if unclear.
    </button>
    <button class="choice" data-choice="c">
      A sense that something needed care or attention.
    </button>
  </div>
</article>

<!-- QUESTION 2 -->
<article class="question" data-question="2">
  <div class="question-scene">
    <h2>A Free Afternoon</h2>
    <p>
      An afternoon opens up unexpectedly. No plans. No pressure.
    </p>
    <p><em>What do you drift toward?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      Quietly tending or finishing something small and useful.
    </button>
    <button class="choice" data-choice="b">
      Following curiosity with no destination in mind.
    </button>
    <button class="choice" data-choice="c">
      Creating, reflecting, or letting meaning slowly emerge.
    </button>
  </div>
</article>

<!-- QUESTION 3 (with bypass) -->
<article class="question" data-question="3">
  <div class="question-scene">
    <h2>The Invitation</h2>
    <p>
      You’re invited to something unfamiliar — not risky, but unknown.
      You don’t have to go.
    </p>
    <p><em>What is your first internal response?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
       I might discover something new.
    </button>
    <button class="choice" data-choice="b">
      will this be grounding or draining?
    </button>
    <button class="choice" data-choice="c">
      a change would be fun.
    </button>
    <button class="choice" data-choice="d">
      I’ll decide later, or not at all.
    </button>
  </div>
</article>

  
  
  <!-- QUESTION 4 -->
<article class="question" data-question="4">
  <div class="question-scene">
    <h2>The Shared Project</h2>
    <p>
      You’re part of a small group building something meaningful.
      Progress is slow. Tension is present but unspoken.
    </p>
    <p><em>What do you naturally do?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      Hold things steady so others don’t unravel.
    </button>
    <button class="choice" data-choice="b">
      Focus on making something tangible that moves things forward.
    </button>
    <button class="choice" data-choice="c">
      Reframe the situation so people understand each other better.
    </button>
    <button class="choice" data-choice="d">
      Question whether the current approach is even right.
    </button>
    <button class="choice" data-choice="e">
      Quietly shift things behind the scenes.
    </button>
  </div>
</article>

<!-- QUESTION 5 -->
<article class="question" data-question="8">
  <div class="question-scene">
    <h2>Inner Tension</h2>
    <p>
      When pressure builds inside, which tension feels most familiar?
    </p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      Duty versus rest.
    </button>
    <button class="choice" data-choice="b">
      Desire versus grounding.
    </button>
    <button class="choice" data-choice="c">
      Curiosity versus belonging.
    </button>
    <button class="choice" data-choice="d">
      Truth versus compassion.
    </button>
    <button class="choice" data-choice="e">
      Speed versus care.
    </button>
   </div>

</article>

<!-- QUESTION 6 -->
<article class="question" data-question="6">
  <div class="question-scene">
    <h2>Alone in Nature</h2>
    <p>
      You’re alone in nature with no task and no destination.
      You stay long enough to feel your energy settle.
    </p>
    <p><em>What do you notice first?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      A sense of rhythm and stability.
    </button>
    <button class="choice" data-choice="b">
      Emotional resonance and beauty.
    </button>
    <button class="choice" data-choice="c">
      Hidden patterns or symbolic order.
    </button>
    <button class="choice" data-choice="d">
      A desire to move, touch, or adjust things physically.
    </button>
    <button class="choice" data-choice="e">
      Playful or absurd details that break seriousness.
    </button>
  </div>
</article>

<!-- QUESTION 7 -->
<article class="question" data-question="7">
  <div class="question-scene">
    <h2>Responsibility</h2>
    <p>
      Something important depends on follow-through.
    </p>
    <p><em>What feels hardest?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      Carrying it alone.
    </button>
    <button class="choice" data-choice="b">
      Slowing down enough to do it right.
    </button>
    <button class="choice" data-choice="c">
      Staying interested long enough.
    </button>
    <button class="choice" data-choice="d">
      Letting go of control.
    </button>
    <button class="choice" data-choice="e">
      Explaining its meaning to others.
    </button>
  </div>
</article>

<!-- QUESTION 8 (with bypass) -->


<article class="question" data-question="5">
  <div class="question-scene">
    <h2>A Conflict Remembered</h2>
    <p>
      Think of a disagreement that stayed with you.
    </p>
    <p><em>What bothered you most afterward?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      That harmony was broken.
    </button>
    <button class="choice" data-choice="b">
      That no one acted decisively.
    </button>
    <button class="choice" data-choice="c">
      That deeper meaning was missed.
    </button>
    <button class="choice" data-choice="d">
      That important questions went unanswered.
    </button>
    <button class="choice" data-choice="e">
      That real transformation never happened.
    </button>
     <button class="choice" data-choice="f">
      I don’t sit with it — I move on.
    </button>
  </div>
  
</article>

  
  

 <!-- QUESTION 9 -->
<article class="question" data-question="9">
  <div class="question-scene">
    <h2>The Flooded Village</h2>
    <p>
      Night. Rain. A river has broken its banks. People panic.
      You arrive with no authority — only presence.
    </p>
    <p><em>What do you do first?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">Organize people into roles and safety.</button>
    <button class="choice" data-choice="b">Stay close to those panicking and calm them.</button>
    <button class="choice" data-choice="c">Act immediately — move, lift, direct.</button>
    <button class="choice" data-choice="d">Begin repairing what’s failing.</button>
    <button class="choice" data-choice="e">Reframe the chaos so people dont lose morale.</button>
    <button class="choice" data-choice="f">Try to figure out what happened.</button>
    <button class="choice" data-choice="g">Pray.</button>
    <button class="choice" data-choice="h">Creatively try to find solutions.</button>
    <button class="choice" data-choice="i">Use dark humor to cut the tension.</button>
    <button class="choice" data-choice="j">Get yourself to safety</button>
  </div>
</article>

<!-- QUESTION 10 -->
<!-- QUESTION 25 -->
<article class="question" data-question="25">
  <div class="question-scene">
    <h2>The Crossing Without Return</h2>
    <p>
      At the edge of a wide river, a ferryman waits.  
      He does not ask for coin.  
      He asks for something you will not get back.
    </p>
    <p>
      You are told the crossing will change the course of your life —  
      but only if the offering is sincere.
    </p>
    <p><em>What do you relinquish?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      You relinquish control, trusting a higher intelligence to carry you.  
      
    </button>
    <button class="choice" data-choice="b">
      You relinquish comfort and safety to move forward now.  
      
    </button>
    <button class="choice" data-choice="c">
      You relinquish emotional armor to remain connected.  
    
    </button>
    <button class="choice" data-choice="d">
      You relinquish your time and labor, committing to the work ahead.  
      
    </button>
    <button class="choice" data-choice="e">
      You relinquish certainty in order to understand more deeply.  
      
    </button>
    <button class="choice" data-choice="f">
      You relinquish personal recognition to hold things together quietly.  
      
    </button>
    <button class="choice" data-choice="g">
      You relinquish seriousness, choosing lightness over gravity.  
      
    </button>
    <button class="choice" data-choice="h">
      You relinquish what you are to become something else.  
      
    </button>
    <button class="choice" data-choice="i">
      You relinquish the present moment to preserve its meaning as story.  
      
    </button>
    <button class="choice" data-choice="j">
      You rather keep all and dont cross
    </button>
  </div>
</article>



<!-- QUESTION 11 -->
<article class="question" data-question="11">
  <div class="question-scene">
    <h2>The Long Oath</h2>
    <p>
      You’re asked to commit years of your life to something uncertain.
    </p>
    <p><em>How do you respond?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">Commit fully, accepting the weight.</button>
    <button class="choice" data-choice="b">Commit through care for others involved.</button>
    <button class="choice" data-choice="c">Commit by initiating immediate action.</button>
    <button class="choice" data-choice="d">Commit through consistent work.</button>
    <button class="choice" data-choice="e">Commit by shaping its meaning.</button>
    <button class="choice" data-choice="f">Commit while continuing to question.</button>
    <button class="choice" data-choice="g">Commit only if truth is upheld.</button>
    <button class="choice" data-choice="h">Commit by transforming the terms.</button>
    <button class="choice" data-choice="i">Commit playfully, lightly.</button>
    <button class="choice" data-choice="j">Agree verbally but keep options open.</button>
  </div>
</article>

<!-- QUESTION 12 -->
<article class="question" data-question="22">
  <div class="question-scene">
    <h2>The Teacher Who Refuses to Answer</h2>
    <p>
      You travel far to meet a renowned teacher.  
      When you ask your question, they smile — and say nothing.
    </p>
    <p><em>What do you do?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">
      You surrender your need for answers and listen inwardly.  
      
    </button>
    <button class="choice" data-choice="b">
      You rephrase your question, hoping for a different result.  
      
    </button>
    <button class="choice" data-choice="c">
      You stay, valuing connection over information.  
      
    </button>
    <button class="choice" data-choice="d">
      You leave to learn through direct action instead.  
      
    </button>
    <button class="choice" data-choice="e">
      You study the environment for indirect teaching.  
      
    </button>
    <button class="choice" data-choice="f">
      You remain useful, learning through service.  
      
    </button>
    <button class="choice" data-choice="g">
      You break the seriousness with humor, lol.  
      
    </button>
    <button class="choice" data-choice="h">
      You reinterpret the silence creatively.  
      
    </button>
    <button class="choice" data-choice="i">
      You retell the encounter for others to interpret.  
    
    </button>
    <button class="choice" data-choice="j">
      You disengage entirely. Not everyone is your teacher. 
      
    </button>
  </div>
</article>


<!-- QUESTION 13 -->
<article class="question" data-question="13">
  <div class="question-scene">
    <h2>The Last Image</h2>
    <p>
      At the end of your life, one image remains.
    </p>
    <p><em>Which feels closest?</em></p>
  </div>

  <div class="question-choices">
    <button class="choice" data-choice="a">A structure that still holds.</button>
    <button class="choice" data-choice="b">Moments of deep connection.</button>
    <button class="choice" data-choice="c">The spark that began it allowed.</button>
    <button class="choice" data-choice="d">Things you built with your hands.</button>
    <button class="choice" data-choice="e">A story that gave your life meaning.</button>
    <button class="choice" data-choice="f">A lifelong search for meaning.</button>
    <button class="choice" data-choice="g">Truths seen clearly.</button>
    <button class="choice" data-choice="h">Transformation you enabled.</button>
    <button class="choice" data-choice="i">seeing the funny side to it all and having a giggle.</button>
    <button class="choice" data-choice="j">Being untouched and unaffected.</button>
  </div>
</article>

  </section>

  <!-- SCRIPT -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {

    /* --------------------
       SPECS FADE IN
    -------------------- */
    const canvas = document.getElementById("floatingSpecs");
    const ctx = canvas.getContext("2d");

   

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const specs = [];
    for (let i = 0; i < 150; i++) {
      specs.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 1.2 + 0.6,
        alpha: 0,
        dx: (Math.random() - 0.5) * 0.15,
        dy: (Math.random() - 0.5) * 0.15
      });
    }

    function animateSpecs() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      specs.forEach(s => {
        s.x += s.dx;
        s.y += s.dy;
        s.alpha += (Math.random() - 0.5) * 0.01;
        s.alpha = Math.max(0, Math.min(1, s.alpha));

        ctx.fillStyle = `rgba(245,235,200,${s.alpha})`;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();

        if (s.x < 0) s.x = canvas.width;
        if (s.x > canvas.width) s.x = 0;
        if (s.y < 0) s.y = canvas.height;
        if (s.y > canvas.height) s.y = 0;
      });

      requestAnimationFrame(animateSpecs);
    }

    setTimeout(animateSpecs, 800); // specs fade in first

    /* --------------------
       QUESTION FLOW
    -------------------- */
    const questions = Array.from(document.querySelectorAll(".question"));
    let currentIndex = 0;

    setTimeout(() => {
  showQuestion(currentIndex);
}, 5400);


function showQuestion(index) {
  questions.forEach(q => q.classList.remove("question-active"));

  const q = questions[index];
  if (!q) return;

  // force layout recalculation
  q.getBoundingClientRect();

  q.classList.add("question-active");
}



    document.querySelectorAll(".choice").forEach(btn => {
      btn.addEventListener("click", () => {

        const currentQuestion = questions[currentIndex];
        const qNumber = currentQuestion.dataset.question;

        // store answer
        localStorage.setItem(`question_${qNumber}`, btn.dataset.choice);


        // fade out current
        currentQuestion.classList.remove("question-active");

        setTimeout(() => {
          currentQuestion.style.display = "none";
          currentIndex++;

          if (currentIndex < questions.length) {
  showQuestion(currentIndex);
} else {

  if (typeof calculateArchetype !== "function") {
  console.error("Archetype engine not loaded");
  return;
}




          // Store full result for reveal page
          const result = calculateArchetype();

// Optional debug only
console.log("Samsara Archetype Locked:", result);

          console.log("Samsara Archetype Locked:", result);

          

          // Proceed to data collection
          window.location.href = "data.html";
        }

 

        }, 700); // match CSS fade
      });
    });

  });


  </script>





</body>
</html>
