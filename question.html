<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Samsara — Questions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style/question.css" />
  <script src="render/logic.js"></script>

</head>

<audio id="samsara-audio" preload="auto">
  <source src="assets/audio/samsara-ambient.mp3" type="audio/mpeg">
</audio>

<script src="render/audio.js"></script>

<body>



  <!-- VOID BACKDROP -->
  <div class="void-background"></div>
  <canvas id="floatingSpecs"></canvas>

  <!-- QUESTIONS -->
  <section class="questions" id="questions">


  <!-- QUESTION 1 -->
<article class="question" data-question="1">
    <div class="question-scene">
      <h2>The Empty Hour</h2>
      <p>
        You unexpectedly gain a full uninterrupted hour.  
        No messages. No expectations. No one will know how you spend it.  
        How this hour unfolds quietly sets the tone for the days ahead.
      </p>
      <p><em>What do you naturally do?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Drift inward: reflect, observe, let thoughts wander and deepen. 
      </button>
      <button class="choice" data-choice="b">
        Make or test something tangible with your hands or tools. 
      </button>
      <button class="choice" data-choice="c">
        Organize, plan, or refine something unfinished. 
      </button>
      <button class="choice" data-choice="d">
        Move fluidly between thinking, sensing, and doing without committing to one. 
      </button>
    </div>
  </article>
  
  
  
<!-- QUESTION 2 -->
<article class="question" data-question="2">
    <div class="question-scene">
      <h2>The Unfinished Thought</h2>
      <p>
        A question has been circling your mind for days.  
        It isn’t urgent, but it won’t leave you alone.  
        You could ignore it or follow it somewhere uncertain.
      </p>
      <p><em>How do you engage with it?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Sit with it patiently, trusting clarity to emerge on its own. 
      </button>
      <button class="choice" data-choice="b">
        Act whilst ignoring it to see what reality reveals. 
      </button>
      <button class="choice" data-choice="c">
        Translate it into notes, sketches, or systems to contain it. 
      </button>
      <button class="choice" data-choice="d">
        Observe it change shape depending on mood, place, or moment. 
      </button>
    </div>
  </article>
  
  
  
 <!-- QUESTION 3 -->
<article class="question" data-question="3">
    <div class="question-scene">
      <h2>The Mirror Without Instructions</h2>
      <p>
        You’re asked to describe yourself.
        Only as you experience yourself when nothing is required of you.
      </p>
      <p><em>What feels most true?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        A quiet observer, noticing patterns beneath the surface, but lacking being seen.
      </button>
      <button class="choice" data-choice="b">
        A catalyst who learns through movement and engagement, without much patients or room for reflection. 
      </button>
      <button class="choice" data-choice="c">
        A stabilizer who brings structure and direction to energy, creating regidity rather than flexibility. 
      </button>
      <button class="choice" data-choice="d">
        A shifting presence, shaped by context more than definition, but without any certainty.
      </button>
    </div>
  </article>
  
  
  <!-- QUESTION 4 -->
<article class="question" data-question="4">
    <div class="question-scene">
      <h2>The Idea That Doesn’t Land</h2>
      <p>
        You share an idea that feels alive and clear to you.  
        When you finish speaking, the room is quiet.  
        No resistance — just absence.
      </p>
      <p><em>What do you do in that moment?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Reframe and clarify until its core becomes understood. Losing energy along the way.
      </button>
      <button class="choice" data-choice="b">
        Let it go, trusting it will resurface when timing aligns. Losing a level of assertiveness and confidence.
      </button>
      <button class="choice" data-choice="c">
        Move it into action so its value can be felt directly. Losing strategy and grace without proper contemplation.
      </button>
      <button class="choice" data-choice="d">
        Adjust your role, tone, or angle to match the room. Losing authentisity and presence.
      </button>
    </div>
  </article>
  
  
<!-- QUESTION 5 -->
<article class="question" data-question="5">
    <div class="question-scene">
      <h2>Moments of Struggle</h2>
      <p>
        Everyone has aspects of themselves that are harder to step into.  
        Take a moment and reflect: what feels most challenging for you to embody right now?
      </p>
      <p><em>Choose the one that resonates most:</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Singing or performing in front of others. 
      </button>
      <button class="choice" data-choice="b">
        Holding and comforting a child or someone in need. 
      </button>
      <button class="choice" data-choice="c">
        Reading a new book or learning something unfamiliar. 
      </button>
      <button class="choice" data-choice="d">
        Starting a creative project from scratch. 
      </button>
      <button class="choice" data-choice="e">
        Speaking your mind honestly to those around you about your troubles. 
      </button>
      <button class="choice" data-choice="f">
        Remaining still and quiet in solitude. 
      </button>
    </div>
  </article>
  
  
  
  
<!-- QUESTION 6 -->
<article class="question" data-question="6">
    <div class="question-scene">
      <h2>The Reputation You Don’t Choose</h2>
      <p>
        Over time, people form an impression of you, 
        not from what you claim, but from how you move and respond.
      </p>
      <p><em>What do you sense your reputation is built on?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Depth, insight, and perspective. 
      </button>
      <button class="choice" data-choice="b">
        Action, courage, and momentum. 
      </button>
      <button class="choice" data-choice="c">
        Stability, clarity, and dependability. 
      </button>
      <button class="choice" data-choice="d">
        Adaptability and responsiveness. 
      </button>
    </div>
  </article>
  
  
  
<!-- QUESTION 7 -->

<article class="question" data-question="7">
    <div class="question-scene">
      <h2>The Flow Within</h2>
      <p>
        Pause for a moment and feel how your energy is moving right now.  
        Imagine the current environment, tasks, and interactions surrounding you.
      </p>
      <p><em>Which direction best describes how your energy moves in this moment?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Outward, reaching, initiating, and expanding. 
      </button>
      <button class="choice" data-choice="b">
        Anchored, stable, containing, and supporting. 
      </button>
      <button class="choice" data-choice="c">
        Circulating, observing, and reflecting. 
      </button>
      <button class="choice" data-choice="d">
        Transforming, releasing, and transmuting tension. 
      </button>
    </div>
  </article>
  
  
  
<!-- QUESTION 8 -->
<article class="question" data-question="8">
    <div class="question-scene">
      <h2>The Necessary Loss</h2>
      <p>
        A meaningful outcome is within reach but not without sacrifice.  
        You cannot protect everything.
      </p>
      <p>
        One thing must be willingly let go, or the whole effort fails.
      </p>
      <p><em>What are you most prepared to lose?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Personal safety or comfort. 
      </button>
      <button class="choice" data-choice="b">
        Time and momentum. 
      </button>
      <button class="choice" data-choice="c">
        Harmony and approval. 
      </button>
      <button class="choice" data-choice="d">
        Control over the outcome. 
      </button>
      <button class="choice" data-choice="e">
        Established structures and plans. 
      </button>
      <button class="choice" data-choice="f">
        A fixed identity or role. 
      </button>
    </div>
  </article>
  
  

  <!-- QUESTION 9 -->

<article class="question" data-question="9">
    <div class="question-scene">
      <h2>The Tool That Changes Hands</h2>
      <p>
        A powerful tool is passed around a group.  
        In the hands of some, it builds.  
        In the hands of others, it disrupts.  
        You are asked to decide who should hold it next — knowing the consequences will echo.
      </p>
      <p><em>How do you decide?</em></p>
    </div>
  
    <div class="question-choices">
      <button class="choice" data-choice="a">
        Give it to the most capable, regardless of how they might change the system 
      </button>
      <button class="choice" data-choice="b">
        Keep it moving so no single person defines its outcome 
      </button>
      <button class="choice" data-choice="c">
        Assign it based on ethical alignment rather than skill 
      </button>
      <button class="choice" data-choice="d">
        Alter the tool itself so its impact becomes unpredictable 
      </button>
    </div>
  </article>
  
    <!-- ADD MORE QUESTIONS HERE -->

  </section>

  <!-- SCRIPT -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {

    /* --------------------
       SPECS FADE IN
    -------------------- */
    const canvas = document.getElementById("floatingSpecs");
    const ctx = canvas.getContext("2d");

   

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const specs = [];
    for (let i = 0; i < 150; i++) {
      specs.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 1.2 + 0.6,
        alpha: 0,
        dx: (Math.random() - 0.5) * 0.15,
        dy: (Math.random() - 0.5) * 0.15
      });
    }

    function animateSpecs() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      specs.forEach(s => {
        s.x += s.dx;
        s.y += s.dy;
        s.alpha += (Math.random() - 0.5) * 0.01;
        s.alpha = Math.max(0, Math.min(1, s.alpha));

        ctx.fillStyle = `rgba(245,235,200,${s.alpha})`;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();

        if (s.x < 0) s.x = canvas.width;
        if (s.x > canvas.width) s.x = 0;
        if (s.y < 0) s.y = canvas.height;
        if (s.y > canvas.height) s.y = 0;
      });

      requestAnimationFrame(animateSpecs);
    }

    setTimeout(animateSpecs, 800); // specs fade in first

    /* --------------------
       QUESTION FLOW
    -------------------- */
    const questions = Array.from(document.querySelectorAll(".question"));
    let currentIndex = 0;

    setTimeout(() => {
  showQuestion(currentIndex);
}, 5400);


function showQuestion(index) {
  questions.forEach(q => q.classList.remove("question-active"));

  const q = questions[index];
  if (!q) return;

  // force layout recalculation
  q.getBoundingClientRect();

  q.classList.add("question-active");
}





    document.querySelectorAll(".choice").forEach(btn => {
      btn.addEventListener("click", () => {

        const currentQuestion = questions[currentIndex];
        const qNumber = currentQuestion.dataset.question;

        // store answer
        localStorage.setItem(`question_${qNumber}`, btn.dataset.choice);


        // fade out current
        currentQuestion.classList.remove("question-active");

        setTimeout(() => {
          currentQuestion.style.display = "none";
          currentIndex++;

          if (currentIndex < questions.length) {
  showQuestion(currentIndex);
} else {

 const result = calculateArchetype();

          // Store full result for reveal page
          localStorage.setItem(
            "samsara_result",
            JSON.stringify(result)
          );

          // Store archetype explicitly for Supabase payload
          localStorage.setItem(
            "samsara_archetype",
            result.archetype
          );

          console.log("Samsara Archetype Locked:", result);

          // Proceed to data collection
          window.location.href = "data.html";
        }

 

        }, 700); // match CSS fade
      });
    });

  });


  </script>





</body>
</html>
